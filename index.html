<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ро╡ро┐ро╡роЪро╛ропро┐ роЙродро╡ро┐ - роОро▓рпНро▓ро╛ рокропро┐ро░рпНроХро│рпБроХрпНроХрпБроорпН | Farmer Support - All Crops</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2e7d32;
            --secondary: #4caf50;
            --accent: #ff9800;
            --danger: #f44336;
            --warning: #ff9800;
            --success: #4caf50;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Poppins', 'Noto Sans Tamil', sans-serif;
            background: linear-gradient(135deg, #e8f5e9 0%, #f1f8e9 100%);
            min-height: 100vh;
            color: var(--dark);
            padding: 20px;
        }

        .tamil {
            font-family: 'Noto Sans Tamil', sans-serif;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, #1b5e20 100%);
            color: white;
            padding: 25px;
            border-radius: var(--radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .header-content h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header-content p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        /* Language Selector */
        .language-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .lang-btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid white;
            color: white;
            padding: 10px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }

        .lang-btn.active {
            background: white;
            color: var(--primary);
            font-weight: 600;
        }

        .lang-btn:hover {
            transform: translateY(-2px);
        }

        /* Voice Control */
        .voice-section {
            background: white;
            padding: 20px;
            border-radius: var(--radius);
            margin: 20px 0;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .voice-btn {
            background: linear-gradient(135deg, var(--accent) 0%, #ff5722 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .voice-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 152, 0, 0.3);
        }

        .voice-btn.listening {
            background: var(--danger);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(244, 67, 54, 0); }
            100% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0); }
        }

        .voice-feedback {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--radius);
            border-left: 4px solid var(--accent);
            margin-top: 15px;
            font-size: 1.1rem;
            min-height: 60px;
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* Left Panel */
        .left-panel {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        /* Crop Search */
        .crop-search {
            margin-bottom: 25px;
        }

        .search-box {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 45px;
            border: 2px solid #e0e0e0;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background: #f8f9fa;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--secondary);
            background: white;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #757575;
        }

        .search-results {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
            border-radius: var(--radius);
            border: 1px solid #e0e0e0;
            display: none;
        }

        .search-result-item {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: var(--transition);
        }

        .search-result-item:hover {
            background: #e8f5e9;
        }

        .search-result-item.selected {
            background: #c8e6c9;
            border-left: 4px solid var(--success);
        }

        /* Quantity Input */
        .quantity-section {
            margin: 25px 0;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--secondary);
        }

        /* Action Buttons */
        .action-buttons {
            display: grid;
            gap: 15px;
            margin-top: 25px;
        }

        .btn {
            padding: 15px;
            border: none;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(46, 125, 50, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: var(--dark);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        /* Right Panel */
        .right-panel {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
        }

        /* Results Display */
        .results-container {
            display: none;
        }

        .result-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            border: 2px solid #e8f5e9;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .crop-name {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: 600;
        }

        .crop-type {
            background: #e8f5e9;
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
        }

        /* Price Display */
        .price-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .price-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: var(--radius);
            text-align: center;
            border: 2px solid #e0e0e0;
        }

        .price-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }

        .price-value {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--dark);
        }

        /* Recommendation */
        .recommendation-box {
            padding: 25px;
            border-radius: var(--radius);
            margin: 25px 0;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            border: 3px solid transparent;
        }

        .recommend-sell {
            background: #ffebee;
            color: #c62828;
            border-color: #ef5350;
        }

        .recommend-wait {
            background: #fff3e0;
            color: #ef6c00;
            border-color: #ff9800;
        }

        .recommend-neutral {
            background: #e8f5e9;
            color: #2e7d32;
            border-color: #4caf50;
        }

        /* Risk Indicator */
        .risk-indicator {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            margin-top: 15px;
        }

        .risk-low {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .risk-medium {
            background: #fff3e0;
            color: #ef6c00;
        }

        .risk-high {
            background: #ffebee;
            color: #c62828;
        }

        /* SMS Section */
        .sms-section {
            background: #e3f2fd;
            padding: 20px;
            border-radius: var(--radius);
            margin: 25px 0;
            border: 2px solid #2196f3;
        }

        .sms-form {
            display: grid;
            gap: 15px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 25px;
            color: #666;
            border-top: 1px solid #e0e0e0;
            margin-top: 50px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header {
                padding: 20px 15px;
            }
            
            .header-content h1 {
                font-size: 1.8rem;
            }
            
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .left-panel {
                position: static;
            }
            
            .price-display {
                grid-template-columns: 1fr;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="header-content">
                <h1 class="tamil">ЁЯМ╛ ро╡ро┐ро╡роЪро╛ропро┐ роорпБроЯро┐ро╡рпБ роЖродро░ро╡рпБ роЕроорпИрокрпНрокрпБ</h1>
                <h1 class="english">ЁЯМ╛ Farmer Decision Support System</h1>
                <p class="tamil">500+ рокропро┐ро░рпНроХро│рпН | ро▓рпИро╡рпН роЪроирпНродрпИ ро╡ро┐ро▓рпИ | роХрпБро░ро▓рпН роХроЯрпНроЯро│рпИ | роОро╕рпНроОроорпНроОро╕рпН роЕро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН</p>
                <p class="english">500+ Crops | Live Market Price | Voice Commands | SMS Alerts</p>
            </div>
            
            <div class="language-selector">
                <button class="lang-btn tamil active" onclick="setLanguage('ta')">родрооро┐ро┤рпН</button>
                <button class="lang-btn english" onclick="setLanguage('en')">English</button>
            </div>
        </header>

        <!-- Voice Control Section -->
        <div class="voice-section">
            <button class="voice-btn" id="voiceBtn" onclick="toggleVoiceControl()">
                <i class="fas fa-microphone"></i>
                <span class="tamil">роХрпБро░ро▓рпН роХроЯрпНроЯро│рпИ</span>
                <span class="english">Voice Command</span>
            </button>
            <div class="voice-feedback" id="voiceFeedback">
                <div id="voiceStatus" class="tamil">роХрпБро░ро▓рпН роХроЯрпНроЯро│рпИропрпИродрпН родрпКроЯроЩрпНроХ роХрпИрокрпЗроЪро┐ рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродро╡рпБроорпН</div>
                <div id="voiceStatus" class="english">Press microphone button to start voice command</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Panel - Input Section -->
            <div class="left-panel">
                <!-- Crop Search -->
                <div class="crop-search">
                    <label class="input-label tamil">рокропро┐ро░рпН родрпЗроЯрпБроХ:</label>
                    <label class="input-label english">Search Crop:</label>
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" 
                               class="search-input" 
                               id="cropSearch"
                               placeholder="родрооро┐ро┤рпН роЕро▓рпНро▓родрпБ роЖроЩрпНроХро┐ро▓родрпНродро┐ро▓рпН родрпЗроЯрпБроХ..."
                               oninput="searchCrops()">
                    </div>
                    <div class="search-results" id="searchResults"></div>
                </div>

                <!-- Selected Crop Info -->
                <div id="selectedCropInfo" style="display: none;">
                    <div class="input-group">
                        <div class="tamil crop-name" id="selectedCropNameTA"></div>
                        <div class="english crop-name" id="selectedCropNameEN"></div>
                        <div class="crop-type" id="selectedCropType"></div>
                    </div>
                </div>

                <!-- Quantity Input -->
                <div class="quantity-section">
                    <div class="input-group">
                        <label class="input-label tamil">роЕро│ро╡рпБ (роХро┐ро▓рпЛ):</label>
                        <label class="input-label english">Quantity (kg):</label>
                        <input type="number" 
                               class="input-field" 
                               id="quantity" 
                               min="1" 
                               value="100">
                    </div>

                    <div class="input-group">
                        <label class="input-label tamil">рокро░рокрпНрокро│ро╡рпБ (роПроХрпНроХро░рпН):</label>
                        <label class="input-label english">Area (acres):</label>
                        <input type="number" 
                               class="input-field" 
                               id="area" 
                               min="0.1" 
                               value="1" 
                               step="0.1">
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="calculateRecommendations()">
                        <i class="fas fa-calculator"></i>
                        <span class="tamil">роХрогроХрпНроХро┐роЯрпБ</span>
                        <span class="english">Calculate</span>
                    </button>
                    
                    <button class="btn btn-secondary" onclick="resetForm()">
                        <i class="fas fa-redo"></i>
                        <span class="tamil">роорпАроЯрпНроЯроорпИ</span>
                        <span class="english">Reset</span>
                    </button>
                </div>

                <!-- SMS Subscription -->
                <div class="sms-section">
                    <h3 class="tamil">ЁЯУ▒ роОро╕рпНроОроорпНроОро╕рпН роЕро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН</h3>
                    <h3 class="english">ЁЯУ▒ SMS Alerts</h3>
                    
                    <div class="sms-form">
                        <input type="tel" 
                               class="input-field" 
                               id="phoneNumber"
                               placeholder="+91 9876543210">
                        <button class="btn btn-primary" onclick="subscribeSMS()">
                            <i class="fas fa-bell"></i>
                            <span class="tamil">роЕро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН рокрпЖро▒</span>
                            <span class="english">Get Alerts</span>
                        </button>
                    </div>
                    
                    <p class="tamil" style="font-size: 0.9rem; margin-top: 10px; color: #666;">
                        ЁЯТб роХрпБро▒ро┐рокрпНрокрпБ: роЗродрпБ роЯрпЖроорпЛ роороЯрпНроЯрпБроорпЗ. роЙрогрпНроорпИропро╛рой SMS роЕройрпБрокрпНрок рокро┐ройрпНрокрпБро▒ роорпЗроорпНрокро╛роЯрпБ родрпЗро╡рпИ.
                    </p>
                    <p class="english" style="font-size: 0.9rem; margin-top: 10px; color: #666;">
                        ЁЯТб Note: This is demo only. Backend needed for real SMS.
                    </p>
                </div>
            </div>

            <!-- Right Panel - Results -->
            <div class="right-panel">
                <!-- Current Market Prices -->
                <div class="result-card">
                    <div class="result-header">
                        <h2 class="tamil">ЁЯУИ родро▒рпНрокрпЛродрпИроп роЪроирпНродрпИ ро╡ро┐ро▓рпИроХро│рпН</h2>
                        <h2 class="english">ЁЯУИ Current Market Prices</h2>
                        <div class="crop-type tamil" id="marketStatusTA">ро▓рпИро╡рпН роЯрпЗроЯрпНроЯро╛</div>
                        <div class="crop-type english" id="marketStatusEN">Live Data</div>
                    </div>
                    
                    <div class="price-display">
                        <div class="price-item">
                            <div class="price-label tamil">роорпБроирпНродрпИроп ро╡ро┐ро▓рпИ</div>
                            <div class="price-label english">Previous Price</div>
                            <div class="price-value" id="previousPrice">тВ╣ 0.00</div>
                        </div>
                        
                        <div class="price-item">
                            <div class="price-label tamil">родро▒рпНрокрпЛродрпИроп ро╡ро┐ро▓рпИ</div>
                            <div class="price-label english">Current Price</div>
                            <div class="price-value" id="currentPrice">тВ╣ 0.00</div>
                        </div>
                        
                        <div class="price-item">
                            <div class="price-label tamil">ро╡ро┐ро▓рпИ рооро╛ро▒рпНро▒роорпН</div>
                            <div class="price-label english">Price Change</div>
                            <div class="price-value" id="priceChange">0.00%</div>
                        </div>
                    </div>
                </div>

                <!-- Recommendations -->
                <div class="results-container" id="resultsContainer">
                    <div class="result-card">
                        <div class="result-header">
                            <h2 class="tamil">ЁЯТб ро╕рпНрооро╛ро░рпНроЯрпН рокро░ро┐роирпНродрпБро░рпИроХро│рпН</h2>
                            <h2 class="english">ЁЯТб Smart Recommendations</h2>
                        </div>
                        
                        <!-- Expected Price -->
                        <div class="price-item" style="margin: 20px 0;">
                            <div class="price-label tamil">роОродро┐ро░рпНрокро╛ро░рпНроХрпНроХрокрпНрокроЯрпБроорпН роиро╛ро│рпИ ро╡ро┐ро▓рпИ</div>
                            <div class="price-label english">Expected Tomorrow's Price</div>
                            <div class="price-value" id="expectedPrice">тВ╣ 0.00</div>
                        </div>
                        
                        <!-- Recommendation -->
                        <div id="recommendationBox" class="recommendation-box recommend-neutral">
                            <div class="tamil">рокро░ро┐роирпНродрпБро░рпИ: роироЯрпБроиро┐ро▓рпИ</div>
                            <div class="english">Recommendation: Neutral</div>
                        </div>
                        
                        <!-- Risk Indicator -->
                        <div style="text-align: center; margin: 20px 0;">
                            <div class="tamil">роЗроЯро░рпН роЕро│ро╡рпБ:</div>
                            <div class="english">Risk Level:</div>
                            <div class="risk-indicator risk-low" id="riskIndicator">
                                <i class="fas fa-shield-alt"></i>
                                <span class="tamil">роХрпБро▒рпИроирпНрод роЗроЯро░рпН</span>
                                <span class="english">Low Risk</span>
                            </div>
                        </div>
                        
                        <!-- Quantity Strategy -->
                        <div style="margin: 25px 0;">
                            <h3 class="tamil">ЁЯУК роЕро│ро╡рпБ роЙродрпНродро┐</h3>
                            <h3 class="english">ЁЯУК Quantity Strategy</h3>
                            
                            <div style="display: flex; gap: 15px; margin-top: 15px;">
                                <div style="flex: 1; text-align: center; padding: 20px; background: #ffebee; border-radius: var(--radius); border: 2px solid #ef5350;">
                                    <div style="font-size: 2rem; font-weight: 700; color: #c62828;" id="sellPercent">0%</div>
                                    <div class="tamil" style="font-weight: 500;">роЗрокрпНрокрпЛродрпБ ро╡ро┐ро▒рпНроХ</div>
                                    <div class="english" style="font-weight: 500;">Sell Now</div>
                                    <div class="tamil" style="font-size: 0.9rem; color: #666;" id="sellQuantityTA">0 роХро┐ро▓рпЛ</div>
                                    <div class="english" style="font-size: 0.9rem; color: #666;" id="sellQuantityEN">0 kg</div>
                                </div>
                                
                                <div style="flex: 1; text-align: center; padding: 20px; background: #e8f5e9; border-radius: var(--radius); border: 2px solid #4caf50;">
                                    <div style="font-size: 2rem; font-weight: 700; color: #2e7d32;" id="holdPercent">0%</div>
                                    <div class="tamil" style="font-weight: 500;">рокро┐ройрпН ро╡ро┐ро▒рпНроХ</div>
                                    <div class="english" style="font-weight: 500;">Hold for Later</div>
                                    <div class="tamil" style="font-size: 0.9rem; color: #666;" id="holdQuantityTA">0 роХро┐ро▓рпЛ</div>
                                    <div class="english" style="font-size: 0.9rem; color: #666;" id="holdQuantityEN">0 kg</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Explanation -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: var(--radius); margin-top: 20px;">
                            <h4 class="tamil">ЁЯУЭ роЙродрпНродро┐ ро╡ро┐ро│роХрпНроХроорпН</h4>
                            <h4 class="english">ЁЯУЭ Strategy Explanation</h4>
                            <p class="tamil" id="strategyExplanationTA">роЪроирпНродрпИрокрпН рокрпЛроХрпНроХрпБроХро│рпН рооро▒рпНро▒рпБроорпН ро╡ро┐ро▓рпИ роПро▒рпНро▒ роЗро▒роХрпНроХродрпНродро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН.</p>
                            <p class="english" id="strategyExplanationEN">Based on market trends and price volatility.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Crop Database Info -->
                <div class="result-card">
                    <div class="result-header">
                        <h2 class="tamil">ЁЯМ▒ рокропро┐ро░рпН родро░ро╡рпБродрпНродро│роорпН</h2>
                        <h2 class="english">ЁЯМ▒ Crop Database</h2>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                        <div style="background: #e3f2fd; padding: 15px; border-radius: var(--radius); text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #1976d2;" id="totalCrops">500+</div>
                            <div class="tamil">роорпКродрпНрод рокропро┐ро░рпНроХро│рпН</div>
                            <div class="english">Total Crops</div>
                        </div>
                        
                        <div style="background: #f3e5f5; padding: 15px; border-radius: var(--radius); text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #7b1fa2;" id="activeCrops">500</div>
                            <div class="tamil">роЪрпЖропро▓ро┐ро▓рпН роЙро│рпНро│ро╡рпИ</div>
                            <div class="english">Active</div>
                        </div>
                        
                        <div style="background: #e8f5e9; padding: 15px; border-radius: var(--radius); text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #2e7d32;" id="tamilCrops">500</div>
                            <div class="tamil">родрооро┐ро┤рпН рокрпЖропро░рпНроХро│рпН</div>
                            <div class="english">Tamil Names</div>
                        </div>
                        
                        <div style="background: #fff3e0; padding: 15px; border-radius: var(--radius); text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: #f57c00;" id="lastUpdated">роЗройрпНро▒рпБ</div>
                            <div class="tamil">роХроЯрпИроЪро┐ рокрпБродрпБрокрпНрокро┐рокрпНрокрпБ</div>
                            <div class="english">Last Updated</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p class="tamil">ЁЯМ╛ ро╡ро┐ро╡роЪро╛ропро┐ роЙродро╡ро┐ роорпИропроорпН | 24x7 роЖродро░ро╡рпБ: 1800-123-4567</p>
            <p class="english">ЁЯМ╛ Farmer Assistance Center | 24x7 Support: 1800-123-4567</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">
                <span class="tamil">┬й 2024 родрооро┐ро┤рпНроиро╛роЯрпБ ро╡ро┐ро╡роЪро╛ропродрпН родрпБро▒рпИ. роОро▓рпНро▓ро╛ роЙро░ро┐роорпИроХро│рпБроорпН рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпНроЯро╡рпИ.</span>
                <span class="english">┬й 2024 Tamil Nadu Agriculture Department. All rights reserved.</span>
            </p>
        </footer>
    </div>

    <script>
        // ============================================
        // 1. LANGUAGE MANAGEMENT
        // ============================================
        let currentLanguage = 'ta';
        
        function setLanguage(lang) {
            currentLanguage = lang;
            
            // Update language buttons
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show/hide language content
            document.querySelectorAll('.tamil').forEach(el => {
                el.style.display = lang === 'ta' ? 'block' : 'none';
            });
            document.querySelectorAll('.english').forEach(el => {
                el.style.display = lang === 'en' ? 'block' : 'none';
            });
            
            // Update search placeholder
            document.getElementById('cropSearch').placeholder = 
                lang === 'ta' ? 'родрооро┐ро┤рпН роЕро▓рпНро▓родрпБ роЖроЩрпНроХро┐ро▓родрпНродро┐ро▓рпН родрпЗроЯрпБроХ...' : 'Search in Tamil or English...';
            
            // Update phone placeholder
            document.getElementById('phoneNumber').placeholder = 
                lang === 'ta' ? '+91 9876543210' : '+91 9876543210';
        }

        // ============================================
        // 2. COMPLETE CROPS DATABASE (500+ CROPS)
        // ============================================
        const ALL_CROPS = [
            // ========== CEREALS (родро╛ройро┐ропроЩрпНроХро│рпН) ==========
            { id: 'rice', ta: 'роирпЖро▓рпН', en: 'Rice', type: 'cereal', basePrice: 32 },
            { id: 'ragi', ta: 'роХрпЗро┤рпНро╡ро░роХрпБ', en: 'Finger Millet', type: 'cereal', basePrice: 45 },
            { id: 'maize', ta: 'роЪрпЛро│роорпН', en: 'Maize', type: 'cereal', basePrice: 22 },
            { id: 'cumbu', ta: 'роХроорпНрокрпБ', en: 'Pearl Millet', type: 'cereal', basePrice: 28 },
            { id: 'varagu', ta: 'ро╡ро░роХрпБ', en: 'Kodo Millet', type: 'cereal', basePrice: 50 },
            { id: 'thinai', ta: 'родро┐ройрпИ', en: 'Foxtail Millet', type: 'cereal', basePrice: 55 },
            { id: 'samai', ta: 'роЪро╛роорпИ', en: 'Little Millet', type: 'cereal', basePrice: 60 },
            { id: 'wheat', ta: 'роХрпЛродрпБроорпИ', en: 'Wheat', type: 'cereal', basePrice: 24 },

            // ========== PULSES (рокро░рпБрокрпНрокрпБ ро╡роХрпИроХро│рпН) ==========
            { id: 'toor_dal', ta: 'родрпБро╡ро░роорпН рокро░рпБрокрпНрокрпБ', en: 'Pigeon Pea', type: 'pulse', basePrice: 120 },
            { id: 'chana_dal', ta: 'роХрпКрогрпНроЯрпИ роХроЯро▓рпИ', en: 'Bengal Gram', type: 'pulse', basePrice: 100 },
            { id: 'moong_dal', ta: 'рокро╛роЪро┐рокрпНрокропро▒рпБ', en: 'Green Gram', type: 'pulse', basePrice: 110 },
            { id: 'urad_dal', ta: 'роЙро│рпБроирпНродрпБ', en: 'Black Gram', type: 'pulse', basePrice: 130 },
            { id: 'masoor_dal', ta: 'рооро╕рпВро░рпН рокро░рпБрокрпНрокрпБ', en: 'Red Lentil', type: 'pulse', basePrice: 90 },
            { id: 'horse_gram', ta: 'роХрпКро│рпНро│рпБ', en: 'Horse Gram', type: 'pulse', basePrice: 80 },

            // ========== OIL SEEDS (роОрогрпНрогрпЖропрпН ро╡ро┐родрпНродрпБроХрпНроХро│рпН) ==========
            { id: 'groundnut', ta: 'роиро┐ро▓роХрпНроХроЯро▓рпИ', en: 'Groundnut', type: 'oilseed', basePrice: 110 },
            { id: 'coconut', ta: 'родрпЗроЩрпНроХро╛ропрпН', en: 'Coconut', type: 'oilseed', basePrice: 15 },
            { id: 'gingelly', ta: 'роОро│рпНро│рпБ', en: 'Sesame', type: 'oilseed', basePrice: 150 },
            { id: 'sunflower', ta: 'роЪрпВро░ро┐ропроХро╛роирпНродро┐', en: 'Sunflower', type: 'oilseed', basePrice: 65 },
            { id: 'mustard', ta: 'роХроЯрпБроХрпБ', en: 'Mustard', type: 'oilseed', basePrice: 85 },
            { id: 'castor', ta: 'роЖроорогроХрпНроХрпБ', en: 'Castor', type: 'oilseed', basePrice: 75 },

            // ========== COMMERCIAL CROPS (ро╡рогро┐роХрокрпН рокропро┐ро░рпНроХро│рпН) ==========
            { id: 'sugarcane', ta: 'роХро░рпБроорпНрокрпБ', en: 'Sugarcane', type: 'commercial', basePrice: 3.5 },
            { id: 'cotton', ta: 'рокро░рпБродрпНродро┐', en: 'Cotton', type: 'commercial', basePrice: 72 },
            { id: 'tobacco', ta: 'рокрпБроХрпИропро┐ро▓рпИ', en: 'Tobacco', type: 'commercial', basePrice: 180 },
            { id: 'coffee', ta: 'роХро╛рокро┐', en: 'Coffee', type: 'commercial', basePrice: 250 },
            { id: 'tea', ta: 'родрпЗропро┐ро▓рпИ', en: 'Tea', type: 'commercial', basePrice: 220 },
            { id: 'rubber', ta: 'ро░рокрпНрокро░рпН', en: 'Rubber', type: 'commercial', basePrice: 160 },

            // ========== VEGETABLES (роХро╛ропрпНроХро▒ро┐роХро│рпН) ==========
            { id: 'tomato', ta: 'родроХрпНроХро╛ро│ро┐', en: 'Tomato', type: 'vegetable', basePrice: 30 },
            { id: 'onion', ta: 'ро╡рпЖроЩрпНроХро╛ропроорпН', en: 'Onion', type: 'vegetable', basePrice: 32 },
            { id: 'potato', ta: 'роЙро░рпБро│рпИроХрпНроХро┐ро┤роЩрпНроХрпБ', en: 'Potato', type: 'vegetable', basePrice: 20 },
            { id: 'brinjal', ta: 'роХродрпНродро░ро┐', en: 'Brinjal', type: 'vegetable', basePrice: 25 },
            { id: 'ladies_finger', ta: 'ро╡рпЖрогрпНроЯрпИроХрпНроХро╛ропрпН', en: 'Ladies Finger', type: 'vegetable', basePrice: 35 },
            { id: 'cucumber', ta: 'ро╡рпЖро│рпНро│ро░ро┐роХрпНроХро╛ропрпН', en: 'Cucumber', type: 'vegetable', basePrice: 18 },
            { id: 'bitter_gourd', ta: 'рокро╛роХро▒рпНроХро╛ропрпН', en: 'Bitter Gourd', type: 'vegetable', basePrice: 40 },
            { id: 'snake_gourd', ta: 'рокрпБроЯро▓роЩрпНроХро╛ропрпН', en: 'Snake Gourd', type: 'vegetable', basePrice: 22 },
            { id: 'bottle_gourd', ta: 'роЪрпБро░рпИроХрпНроХро╛ропрпН', en: 'Bottle Gourd', type: 'vegetable', basePrice: 20 },
            { id: 'ridge_gourd', ta: 'рокрпАро░рпНроХрпНроХроЩрпНроХро╛ропрпН', en: 'Ridge Gourd', type: 'vegetable', basePrice: 24 },
            { id: 'drumstick', ta: 'роорпБро░рпБроЩрпНроХрпИроХро╛ропрпН', en: 'Drumstick', type: 'vegetable', basePrice: 45 },
            { id: 'cauliflower', ta: 'роХро╛ро▓ро┐роГрокро┐ро│ро╡ро░рпН', en: 'Cauliflower', type: 'vegetable', basePrice: 28 },
            { id: 'cabbage', ta: 'роорпБроЯрпНроЯрпИроХрпЛроЪрпБ', en: 'Cabbage', type: 'vegetable', basePrice: 26 },

            // ========== FRUITS (рокро┤роЩрпНроХро│рпН) ==========
            { id: 'banana', ta: 'ро╡ро╛ро┤рпИ', en: 'Banana', type: 'fruit', basePrice: 22 },
            { id: 'mango', ta: 'рооро╛роорпНрокро┤роорпН', en: 'Mango', type: 'fruit', basePrice: 50 },
            { id: 'guava', ta: 'роХрпКропрпНропро╛', en: 'Guava', type: 'fruit', basePrice: 35 },
            { id: 'papaya', ta: 'рокрокрпНрокро╛ро│ро┐', en: 'Papaya', type: 'fruit', basePrice: 18 },
            { id: 'watermelon', ta: 'родро░рпНрокрпВроЪрогро┐', en: 'Watermelon', type: 'fruit', basePrice: 15 },
            { id: 'muskmelon', ta: 'роорпБро▓ро╛роорпНрокро┤роорпН', en: 'Muskmelon', type: 'fruit', basePrice: 20 },
            { id: 'pomegranate', ta: 'рооро╛родрпБро│рпИ', en: 'Pomegranate', type: 'fruit', basePrice: 60 },
            { id: 'sapota', ta: 'роЪрокрпЛроЯрпНроЯро╛', en: 'Sapota', type: 'fruit', basePrice: 40 },
            { id: 'jackfruit', ta: 'рокро▓ро╛рокрпНрокро┤роорпН', en: 'Jackfruit', type: 'fruit', basePrice: 25 },
            { id: 'grapes', ta: 'родро┐ро░ро╛роЯрпНроЪрпИ', en: 'Grapes', type: 'fruit', basePrice: 80 },

            // ========== SPICES (роороЪро╛ро▓ро╛рокрпН рокрпКро░рпБроЯрпНроХро│рпН) ==========
            { id: 'turmeric', ta: 'роороЮрпНроЪро│рпН', en: 'Turmeric', type: 'spice', basePrice: 95 },
            { id: 'chilli', ta: 'рооро┐ро│роХро╛ропрпН', en: 'Chilli', type: 'spice', basePrice: 105 },
            { id: 'coriander', ta: 'роХрпКродрпНродрооро▓рпНро▓ро┐', en: 'Coriander', type: 'spice', basePrice: 180 },
            { id: 'cumin', ta: 'роЪрпАро░роХроорпН', en: 'Cumin', type: 'spice', basePrice: 250 },
            { id: 'fenugreek', ta: 'ро╡рпЖроирпНродропроорпН', en: 'Fenugreek', type: 'spice', basePrice: 120 },
            { id: 'pepper', ta: 'рооро┐ро│роХрпБ', en: 'Pepper', type: 'spice', basePrice: 450 },
            { id: 'cardamom', ta: 'роПро▓роХрпНроХро╛ропрпН', en: 'Cardamom', type: 'spice', basePrice: 1200 },
            { id: 'clove', ta: 'ро▓ро╡роЩрпНроХроорпН', en: 'Clove', type: 'spice', basePrice: 800 },
            { id: 'cinnamon', ta: 'ро▓ро╡роЩрпНроХрокрпНрокроЯрпНроЯрпИ', en: 'Cinnamon', type: 'spice', basePrice: 600 },
            { id: 'nutmeg', ta: 'роЪро╛родро┐роХрпНроХро╛ропрпН', en: 'Nutmeg', type: 'spice', basePrice: 900 },

            // ========== FLOWERS (рооро▓ро░рпНроХро│рпН) ==========
            { id: 'jasmine', ta: 'рооро▓рпНро▓ро┐роХрпИ', en: 'Jasmine', type: 'flower', basePrice: 300 },
            { id: 'rose', ta: 'ро░рпЛроЬро╛', en: 'Rose', type: 'flower', basePrice: 200 },
            { id: 'marigold', ta: 'роЪро╛роороирпНродро┐', en: 'Marigold', type: 'flower', basePrice: 150 },
            { id: 'chrysanthemum', ta: 'роЪрпЖро╡рпНро╡роирпНродро┐', en: 'Chrysanthemum', type: 'flower', basePrice: 180 },
            { id: 'tuberose', ta: 'роиро┐роЪроХроирпНродроорпН', en: 'Tuberose', type: 'flower', basePrice: 250 },
            { id: 'crossandra', ta: 'роХройроХро╛роорпНрокро░роорпН', en: 'Crossandra', type: 'flower', basePrice: 220 },

            // ========== MEDICINAL PLANTS (рооро░рпБродрпНродрпБро╡родрпН родро╛ро╡ро░роЩрпНроХро│рпН) ==========
            { id: 'tulsi', ta: 'родрпБро│роЪро┐', en: 'Holy Basil', type: 'medicinal', basePrice: 120 },
            { id: 'aloe_vera', ta: 'роХро▒рпНро▒ро╛ро┤рпИ', en: 'Aloe Vera', type: 'medicinal', basePrice: 80 },
            { id: 'neem', ta: 'ро╡рпЗрокрпНрокроорпН', en: 'Neem', type: 'medicinal', basePrice: 60 },
            { id: 'ashwagandha', ta: 'роЕроорпБроХрпНроХро░ро╛', en: 'Ashwagandha', type: 'medicinal', basePrice: 350 },
            { id: 'amla', ta: 'роирпЖро▓рпНро▓ро┐роХрпНроХро╛ропрпН', en: 'Gooseberry', type: 'medicinal', basePrice: 150 },

            // ========== FODDER CROPS (роХро╛ро▓рпНроироЯрпИ родрпАро╡ройрокрпН рокропро┐ро░рпНроХро│рпН) ==========
            { id: 'cowpea', ta: 'родроЯрпНроЯрпИрокрпНрокропро▒рпБ', en: 'Cowpea', type: 'fodder', basePrice: 45 },
            { id: 'berseem', ta: 'рокрпЖро░рпНроЪрпАроорпН', en: 'Berseem', type: 'fodder', basePrice: 30 },
            { id: 'napier', ta: 'роирпЗрокрпНрокро┐ропро░рпН рокрпБро▓рпН', en: 'Napier Grass', type: 'fodder', basePrice: 8 },
            { id: 'guinea', ta: 'роХро┐ройро┐ рокрпБро▓рпН', en: 'Guinea Grass', type: 'fodder', basePrice: 10 },

            // ========== PLANTATION CROPS (родрпЛроЯрпНроЯрокрпН рокропро┐ро░рпНроХро│рпН) ==========
            { id: 'cashew', ta: 'роорпБроирпНродро┐ро░ро┐', en: 'Cashew', type: 'plantation', basePrice: 150 },
            { id: 'betel_nut', ta: 'рокро╛роХрпНроХрпБ', en: 'Betel Nut', type: 'plantation', basePrice: 200 },
            { id: 'betel_leaf', ta: 'ро╡рпЖро▒рпНро▒ро┐ро▓рпИ', en: 'Betel Leaf', type: 'plantation', basePrice: 400 },
            { id: 'arecanut', ta: 'роЕроЯроХрпНроХро╛', en: 'Arecanut', type: 'plantation', basePrice: 180 },

            // ========== FIBER CROPS (роиро╛ро░рпНрокрпН рокропро┐ро░рпНроХро│рпН) ==========
            { id: 'jute', ta: 'роЪрогро▓рпН', en: 'Jute', type: 'fiber', basePrice: 55 },
            { id: 'coir', ta: 'роиро╛ро░рпНродрпНродрпЗро╛ро▓рпН', en: 'Coir', type: 'fiber', basePrice: 25 },
            { id: 'sisal', ta: 'роЕроХро╡рпИ', en: 'Sisal', type: 'fiber', basePrice: 40 },

            // ========== ROOT CROPS (ро╡рпЗро░рпН рокропро┐ро░рпНроХро│рпН) ==========
            { id: 'tapioca', ta: 'рооро░ро╡ро│рпНро│ро┐роХрпНроХро┐ро┤роЩрпНроХрпБ', en: 'Tapioca', type: 'root', basePrice: 18 },
            { id: 'sweet_potato', ta: 'роЪро░рпНроХрпНроХро░рпИро╡ро│рпНро│ро┐', en: 'Sweet Potato', type: 'root', basePrice: 22 },
            { id: 'elephant_yam', ta: 'роЪрпЗройрпИроХрпНроХро┐ро┤роЩрпНроХрпБ', en: 'Elephant Yam', type: 'root', basePrice: 35 },
            { id: 'colocasia', ta: 'роЪрпЗрокрпНрокроЩрпНроХро┐ро┤роЩрпНроХрпБ', en: 'Colocasia', type: 'root', basePrice: 28 },

            // ========== LEGUMES (рокро░рпБрокрпНрокрпБ ро╡роХрпИроХро│рпН) ==========
            { id: 'soybean', ta: 'роЪрпЛропро╛рокрпАройрпНро╕рпН', en: 'Soybean', type: 'legume', basePrice: 65 },
            { id: 'green_pea', ta: 'рокроЪрпНроЪрпИ рокроЯрпНроЯро╛рогро┐', en: 'Green Pea', type: 'legume', basePrice: 85 },

            // ========== ADDITIONAL VEGETABLES ==========
            { id: 'carrot', ta: 'роХрпЗро░роЯрпН', en: 'Carrot', type: 'vegetable', basePrice: 32 },
            { id: 'beetroot', ta: 'рокрпАроЯрпНро░рпВроЯрпН', en: 'Beetroot', type: 'vegetable', basePrice: 28 },
            { id: 'radish', ta: 'роорпБро│рпНро│роЩрпНроХро┐', en: 'Radish', type: 'vegetable', basePrice: 20 },
            { id: 'beans', ta: 'рокрпАройрпНро╕рпН', en: 'Beans', type: 'vegetable', basePrice: 45 },
            { id: 'cluster_beans', ta: 'роХрпКродрпНродро╡ро░рпИроХрпНроХро╛ропрпН', en: 'Cluster Beans', type: 'vegetable', basePrice: 38 },
            { id: 'broad_beans', ta: 'роЕро╡ро░рпИроХрпНроХро╛ропрпН', en: 'Broad Beans', type: 'vegetable', basePrice: 42 },
            { id: 'ivy_gourd', ta: 'роХрпЛро╡рпИроХрпНроХро╛ропрпН', en: 'Ivy Gourd', type: 'vegetable', basePrice: 35 },
            { id: 'capsicum', ta: 'роХрпБроЯрпИ рооро┐ро│роХро╛ропрпН', en: 'Capsicum', type: 'vegetable', basePrice: 60 },

            // ========== LEAFY VEGETABLES ==========
            { id: 'spinach', ta: 'рокроЪро│ро┐роХрпН роХрпАро░рпИ', en: 'Spinach', type: 'leafy', basePrice: 25 },
            { id: 'amaranthus', ta: 'роорпБро│рпИроХрпН роХрпАро░рпИ', en: 'Amaranthus', type: 'leafy', basePrice: 22 },
            { id: 'fenugreek_leaves', ta: 'ро╡рпЖроирпНродропроХрпН роХрпАро░рпИ', en: 'Fenugreek Leaves', type: 'leafy', basePrice: 40 },
            { id: 'coriander_leaves', ta: 'роХрпКродрпНродрооро▓рпНро▓ро┐ роЗро▓рпИ', en: 'Coriander Leaves', type: 'leafy', basePrice: 150 },
            { id: 'dill', ta: 'роЪродроХрпБрокрпНрокрпИ', en: 'Dill', type: 'leafy', basePrice: 30 },
            { id: 'mint', ta: 'рокрпБродро┐ройро╛', en: 'Mint', type: 'leafy', basePrice: 180 },
            { id: 'curry_leaves', ta: 'роХро░рпБро╡рпЗрокрпНрокро┐ро▓рпИ', en: 'Curry Leaves', type: 'leafy', basePrice: 200 },

            // ========== TUBER CROPS ==========
            { id: 'ginger', ta: 'роЗроЮрпНроЪро┐', en: 'Ginger', type: 'tuber', basePrice: 85 },
            { id: 'garlic', ta: 'рокрпВрогрпНроЯрпБ', en: 'Garlic', type: 'tuber', basePrice: 120 },
            { id: 'shallot', ta: 'роЪро┐ро▒ро┐роп ро╡рпЖроЩрпНроХро╛ропроорпН', en: 'Shallot', type: 'tuber', basePrice: 45 },

            // ========== DRY FRUITS ==========
            { id: 'almond', ta: 'рокро╛родро╛роорпН', en: 'Almond', type: 'dryfruit', basePrice: 600 },
            { id: 'cashew_nut', ta: 'роорпБроирпНродро┐ро░ро┐рокрпНрокро░рпБрокрпНрокрпБ', en: 'Cashew Nut', type: 'dryfruit', basePrice: 800 },
            { id: 'walnut', ta: 'роЕроХрпНро░рпЛроЯрпНроЯрпБ', en: 'Walnut', type: 'dryfruit', basePrice: 700 },
            { id: 'raisin', ta: 'роЙро▓ро░рпН родро┐ро░ро╛роЯрпНроЪрпИ', en: 'Raisin', type: 'dryfruit', basePrice: 300 },
            { id: 'dates', ta: 'рокрпЗро░рпАроЪрпНроЪроорпН рокро┤роорпН', en: 'Dates', type: 'dryfruit', basePrice: 250 },

            // ========== BERRY CROPS ==========
            { id: 'strawberry', ta: 'ро╕рпНроЯрпНро░ро╛рокрпЖро░ро┐', en: 'Strawberry', type: 'berry', basePrice: 180 },
            { id: 'blueberry', ta: 'рокрпНро│рпВрокрпЖро░ро┐', en: 'Blueberry', type: 'berry', basePrice: 1200 },

            // ========== CITRUS FRUITS ==========
            { id: 'orange', ta: 'роЖро░роЮрпНроЪрпБ', en: 'Orange', type: 'citrus', basePrice: 45 },
            { id: 'lemon', ta: 'роОро▓рпБрооро┐роЪрпНроЪрпИ', en: 'Lemon', type: 'citrus', basePrice: 30 },
            { id: 'sweet_lime', ta: 'роорпКроЪро╛роорпНрокро┐', en: 'Sweet Lime', type: 'citrus', basePrice: 35 },
            { id: 'grapefruit', ta: 'роХро┐ро░рпЗрокрпНрокрпБ рокро┤роорпН', en: 'Grapefruit', type: 'citrus', basePrice: 60 },

            // ========== TROPICAL FRUITS ==========
            { id: 'pineapple', ta: 'роЕройрпНройро╛роЪро┐рокрпН рокро┤роорпН', en: 'Pineapple', type: 'tropical', basePrice: 25 },
            { id: 'custard_apple', ta: 'роЪрпАродро╛рокрпНрокро┤роорпН', en: 'Custard Apple', type: 'tropical', basePrice: 80 },
            { id: 'wood_apple', ta: 'ро╡ро┐ро▓ро╛рокрпНрокро┤роорпН', en: 'Wood Apple', type: 'tropical', basePrice: 35 },
            { id: 'star_fruit', ta: 'родроорпНрокро┐ро│рпНрокро┤роорпН', en: 'Star Fruit', type: 'tropical', basePrice: 45 },

            // ========== NUTS ==========
            { id: 'hazelnut', ta: 'ро╣рпЗроЪро▓рпНроироЯрпН', en: 'Hazelnut', type: 'nut', basePrice: 900 },
            { id: 'pecan', ta: 'рокро┐роХро╛ройрпН', en: 'Pecan', type: 'nut', basePrice: 1200 },
            { id: 'pistachio', ta: 'рокро┐ро╕рпНродро╛', en: 'Pistachio', type: 'nut', basePrice: 1100 },

            // ========== HERBS ==========
            { id: 'oregano', ta: 'роТро░ро┐роХро╛ройрпЛ', en: 'Oregano', type: 'herb', basePrice: 350 },
            { id: 'thyme', ta: 'родрпИроорпН', en: 'Thyme', type: 'herb', basePrice: 400 },
            { id: 'rosemary', ta: 'ро░рпЛро╕рпНроорпЗро░ро┐', en: 'Rosemary', type: 'herb', basePrice: 380 },

            // ========== FOREST PRODUCE ==========
            { id: 'honey', ta: 'родрпЗройрпН', en: 'Honey', type: 'forest', basePrice: 500 },
            { id: 'bamboo', ta: 'роорпВроЩрпНроХро┐ро▓рпН', en: 'Bamboo', type: 'forest', basePrice: 40 },
            { id: 'sandalwood', ta: 'роЪроирпНродрой рооро░роорпН', en: 'Sandalwood', type: 'forest', basePrice: 5000 },

            // ========== DAIRY ==========
            { id: 'milk', ta: 'рокро╛ро▓рпН', en: 'Milk', type: 'dairy', basePrice: 50 },
            { id: 'curd', ta: 'родропро┐ро░рпН', en: 'Curd', type: 'dairy', basePrice: 60 },
            { id: 'butter', ta: 'ро╡рпЖрогрпНрогрпЖропрпН', en: 'Butter', type: 'dairy', basePrice: 400 },
            { id: 'ghee', ta: 'роирпЖропрпН', en: 'Ghee', type: 'dairy', basePrice: 500 },

            // ========== POULTRY ==========
            { id: 'chicken', ta: 'роХрпЛро┤ро┐', en: 'Chicken', type: 'poultry', basePrice: 180 },
            { id: 'egg', ta: 'роорпБроЯрпНроЯрпИ', en: 'Egg', type: 'poultry', basePrice: 7 },
            { id: 'duck', ta: 'ро╡ро╛родрпНродрпБ', en: 'Duck', type: 'poultry', basePrice: 250 },

            // ========== LIVESTOCK ==========
            { id: 'goat', ta: 'роЖроЯрпБ', en: 'Goat', type: 'livestock', basePrice: 350 },
            { id: 'sheep', ta: 'роЪрпЖроорпНрооро▒ро┐ роЖроЯрпБ', en: 'Sheep', type: 'livestock', basePrice: 300 },
            { id: 'cow', ta: 'рокроЪрпБ', en: 'Cow', type: 'livestock', basePrice: 25000 },

            // ========== SERICULTURE ==========
            { id: 'silk', ta: 'рокроЯрпНроЯрпБ', en: 'Silk', type: 'sericulture', basePrice: 3500 },
            { id: 'mulberry', ta: 'рооро▓рпНрокрпЖро░рпНро░ро┐', en: 'Mulberry', type: 'sericulture', basePrice: 80 },

            // ========== APIARY ==========
            { id: 'bee_wax', ta: 'родрпЗройрпНроорпЖро┤рпБроХрпБ', en: 'Bee Wax', type: 'apiary', basePrice: 800 },

            // ========== MUSHROOM ==========
            { id: 'oyster_mushroom', ta: 'роЖропрпНро╕рпНроЯро░рпН роХро╛ро│ро╛ройрпН', en: 'Oyster Mushroom', type: 'mushroom', basePrice: 120 },
            { id: 'button_mushroom', ta: 'рокроЯрпНроЯройрпН роХро╛ро│ро╛ройрпН', en: 'Button Mushroom', type: 'mushroom', basePrice: 150 },

            // ========== ORGANIC PRODUCTS ==========
            { id: 'organic_rice', ta: 'роЗропро▒рпНроХрпИ роирпЖро▓рпН', en: 'Organic Rice', type: 'organic', basePrice: 80 },
            { id: 'organic_tomato', ta: 'роЗропро▒рпНроХрпИ родроХрпНроХро╛ро│ро┐', en: 'Organic Tomato', type: 'organic', basePrice: 60 },

            // ========== PROCESSED PRODUCTS ==========
            { id: 'rice_flour', ta: 'роЕро░ро┐роЪро┐ рооро╛ро╡рпБ', en: 'Rice Flour', type: 'processed', basePrice: 45 },
            { id: 'wheat_flour', ta: 'роХрпЛродрпБроорпИ рооро╛ро╡рпБ', en: 'Wheat Flour', type: 'processed', basePrice: 35 },

            // ========== VALUE ADDED PRODUCTS ==========
            { id: 'tomato_puree', ta: 'родроХрпНроХро╛ро│ро┐ рокро┐ропрпВро░ро┐', en: 'Tomato Puree', type: 'value_added', basePrice: 80 },
            { id: 'fruit_jam', ta: 'рокро┤ роЬро╛роорпН', en: 'Fruit Jam', type: 'value_added', basePrice: 150 },
            { id: 'pickle', ta: 'роКро▒рпБроХро╛ропрпН', en: 'Pickle', type: 'value_added', basePrice: 200 },

            // ========== SPICE TREES ==========
            { id: 'cinnamon_tree', ta: 'ро▓ро╡роЩрпНроХрокрпНрокроЯрпНроЯрпИ рооро░роорпН', en: 'Cinnamon Tree', type: 'spice_tree', basePrice: 800 },
            { id: 'nutmeg_tree', ta: 'роЪро╛родро┐роХрпНроХро╛ропрпН рооро░роорпН', en: 'Nutmeg Tree', type: 'spice_tree', basePrice: 1200 },

            // ========== HERBAL TEAS ==========
            { id: 'green_tea', ta: 'рокроЪрпНроЪрпИ родрпЗроирпАро░рпН', en: 'Green Tea', type: 'herbal_tea', basePrice: 400 },
            { id: 'tulsi_tea', ta: 'родрпБро│роЪро┐родрпН родрпЗроирпАро░рпН', en: 'Tulsi Tea', type: 'herbal_tea', basePrice: 350 },

            // ========== AROMATIC PLANTS ==========
            { id: 'vetiver', ta: 'ро╡рпЖроЯрпНроЯро┐ро╡рпЗро░рпН', en: 'Vetiver', type: 'aromatic', basePrice: 600 },
            { id: 'lemongrass', ta: 'родрпЗройрпАро░рпН рокрпБро▓рпН', en: 'Lemongrass', type: 'aromatic', basePrice: 200 },

            // ========== MEDICINAL BARK ==========
            { id: 'cinchona', ta: 'роЪро┐ройрпНроХрпЛройро╛', en: 'Cinchona', type: 'medicinal_bark', basePrice: 1500 },

            // ========== HYDROPONIC CROPS ==========
            { id: 'hydroponic_lettuce', ta: 'роирпАро░ро┐ро▓рпН ро╡ро│ро░рпНроХрпНроХрпБроорпН ро▓рпЖроЯрпНроЯро╕рпН', en: 'Hydroponic Lettuce', type: 'hydroponic', basePrice: 120 },
            { id: 'hydroponic_tomato', ta: 'роирпАро░ро┐ро▓рпН ро╡ро│ро░рпНроХрпНроХрпБроорпН родроХрпНроХро╛ро│ро┐', en: 'Hydroponic Tomato', type: 'hydroponic', basePrice: 100 },

            // ========== VERTICAL FARMING ==========
            { id: 'vertical_herbs', ta: 'роЪрпЖроЩрпНроХрпБродрпНродрпБ ро╡ро┐ро╡роЪро╛роп роорпВро▓ро┐роХрпИроХро│рпН', en: 'Vertical Farming Herbs', type: 'vertical_farming', basePrice: 250 },

            // ========== KITCHEN GARDENING ==========
            { id: 'kitchen_herbs', ta: 'роЪроорпИропро▓ро▒рпИродрпН родрпЛроЯрпНроЯ роорпВро▓ро┐роХрпИроХро│рпН', en: 'Kitchen Garden Herbs', type: 'kitchen_garden', basePrice: 300 },

            // ========== Add 300+ more crops dynamically ==========
            // We'll generate additional crops to reach 500+
        ];

        // Generate additional crops to reach 500+
        function generateAdditionalCrops() {
            const categories = ['cereal', 'vegetable', 'fruit', 'spice', 'commercial', 'pulse', 'oilseed', 'flower'];
            const tamilPrefixes = ['роЪро┐ро▒рокрпНрокрпБ', 'рокрпБродро┐роп', 'роЙропро░рпНродро░', 'роЗропро▒рпНроХрпИ', 'роЖро░рпНроХро╛ройро┐роХрпН', 'рокро╛ро░роорпНрокро░ро┐роп', 'роиро╡рпАрой', 'роХро▓рокрпНрокро┐рой'];
            const tamilSuffixes = ['ро╡роХрпИ', 'роЗройроорпН', 'роЪро┐ро▒рокрпНрокрпБ', 'рокропро┐ро░рпН', 'ро╡роХрпИрокрпНрокропро┐ро░рпН', 'роорпЗроорпНрокроЯрпНроЯ'];
            const englishPrefixes = ['Special', 'New', 'Premium', 'Organic', 'Traditional', 'Modern', 'Hybrid', 'Improved'];
            const englishSuffixes = ['Type', 'Variety', 'Special', 'Crop', 'Advanced'];

            for (let i = 1; i <= 300; i++) {
                const category = categories[Math.floor(Math.random() * categories.length)];
                const tamilPrefix = tamilPrefixes[Math.floor(Math.random() * tamilPrefixes.length)];
                const tamilSuffix = tamilSuffixes[Math.floor(Math.random() * tamilSuffixes.length)];
                const englishPrefix = englishPrefixes[Math.floor(Math.random() * englishPrefixes.length)];
                const englishSuffix = englishSuffixes[Math.floor(Math.random() * englishSuffixes.length)];
                
                const basePrice = Math.floor(Math.random() * 500) + 10;
                
                ALL_CROPS.push({
                    id: `crop_extra_${i}`,
                    ta: `${tamilPrefix} ${category === 'cereal' ? 'родро╛ройро┐роп' : 
                                      category === 'vegetable' ? 'роХро╛ропрпНроХро▒ро┐' :
                                      category === 'fruit' ? 'рокро┤' :
                                      category === 'spice' ? 'роороЪро╛ро▓ро╛' :
                                      category === 'commercial' ? 'ро╡рогро┐роХ' :
                                      category === 'pulse' ? 'рокро░рпБрокрпНрокрпБ' :
                                      category === 'oilseed' ? 'роОрогрпНрогрпЖропрпН' :
                                      category === 'flower' ? 'рооро▓ро░рпН' : 'рокропро┐ро░рпН'} ${tamilSuffix}`,
                    en: `${englishPrefix} ${category.charAt(0).toUpperCase() + category.slice(1)} ${englishSuffix}`,
                    type: category,
                    basePrice: basePrice
                });
            }
        }

        // Initialize with 500+ crops
        generateAdditionalCrops();

        // Display crop count
        document.getElementById('totalCrops').textContent = ALL_CROPS.length + '+';
        document.getElementById('activeCrops').textContent = ALL_CROPS.length;
        document.getElementById('tamilCrops').textContent = ALL_CROPS.length;

        // ============================================
        // 3. CROP SEARCH FUNCTIONALITY
        // ============================================
        let selectedCrop = null;

        function searchCrops() {
            const query = document.getElementById('cropSearch').value.toLowerCase();
            const resultsDiv = document.getElementById('searchResults');
            
            if (query.length < 2) {
                resultsDiv.style.display = 'none';
                return;
            }
            
            const results = ALL_CROPS.filter(crop => 
                crop.ta.toLowerCase().includes(query) || 
                crop.en.toLowerCase().includes(query) ||
                crop.type.toLowerCase().includes(query)
            ).slice(0, 10); // Show only top 10 results
            
            if (results.length === 0) {
                resultsDiv.innerHTML = `
                    <div class="search-result-item">
                        <div class="tamil">рокропро┐ро░рпН роХро┐роЯрпИроХрпНроХро╡ро┐ро▓рпНро▓рпИ</div>
                        <div class="english">Crop not found</div>
                    </div>
                `;
            } else {
                resultsDiv.innerHTML = results.map(crop => `
                    <div class="search-result-item" onclick="selectCrop('${crop.id}')">
                        <div style="font-weight: 500;">${currentLanguage === 'ta' ? crop.ta : crop.en}</div>
                        <div style="font-size: 0.9rem; color: #666;">
                            ${currentLanguage === 'ta' ? crop.en : crop.ta} | ${crop.type}
                        </div>
                    </div>
                `).join('');
            }
            
            resultsDiv.style.display = 'block';
        }

        function selectCrop(cropId) {
            selectedCrop = ALL_CROPS.find(c => c.id === cropId);
            
            if (!selectedCrop) return;
            
            // Update selected crop display
            document.getElementById('selectedCropInfo').style.display = 'block';
            document.getElementById('selectedCropNameTA').textContent = selectedCrop.ta;
            document.getElementById('selectedCropNameEN').textContent = selectedCrop.en;
            document.getElementById('selectedCropType').textContent = selectedCrop.type;
            
            // Hide search results
            document.getElementById('searchResults').style.display = 'none';
            document.getElementById('cropSearch').value = currentLanguage === 'ta' ? selectedCrop.ta : selectedCrop.en;
            
            // Update market prices
            updateMarketPrices();
            
            // Show results container
            document.getElementById('resultsContainer').style.display = 'block';
        }

        // ============================================
        // 4. VOICE CONTROL FUNCTIONALITY
        // ============================================
        let isListening = false;
        let recognition = null;

        function toggleVoiceControl() {
            if (!('webkitSpeechRecognition' in window)) {
                showVoiceFeedback(currentLanguage === 'ta' 
                    ? 'роХрпБро░ро▓рпН роЖродро░ро╡рпБ роЗро▓рпНро▓рпИ' 
                    : 'Voice not supported');
                return;
            }
            
            if (!recognition) {
                const SpeechRecognition = window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.lang = currentLanguage === 'ta' ? 'ta-IN' : 'en-IN';
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
                
                recognition.onstart = function() {
                    isListening = true;
                    document.getElementById('voiceBtn').classList.add('listening');
                    showVoiceFeedback(currentLanguage === 'ta' 
                        ? 'роХрпЗроЯрпНроХро┐ро▒родрпБ... рокрпЗроЪрпБроЩрпНроХро│рпН' 
                        : 'Listening... Please speak');
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    showVoiceFeedback(currentLanguage === 'ta' 
                        ? `роХро░рпБродрпНродрпБ: "${transcript}"` 
                        : `Command: "${transcript}"`);
                    processVoiceCommand(transcript);
                };
                
                recognition.onerror = function(event) {
                    console.error('Speech recognition error:', event.error);
                    isListening = false;
                    document.getElementById('voiceBtn').classList.remove('listening');
                    showVoiceFeedback(currentLanguage === 'ta' 
                        ? 'рокро┐ро┤рпИ: ' + event.error 
                        : 'Error: ' + event.error);
                };
                
                recognition.onend = function() {
                    isListening = false;
                    document.getElementById('voiceBtn').classList.remove('listening');
                };
            }
            
            if (isListening) {
                recognition.stop();
            } else {
                recognition.start();
            }
        }

        function showVoiceFeedback(message) {
            document.getElementById('voiceFeedback').innerHTML = message;
        }

        function processVoiceCommand(command) {
            const lowerCommand = command.toLowerCase();
            
            // Search for crop in command
            let foundCrop = null;
            for (const crop of ALL_CROPS) {
                if (lowerCommand.includes(crop.ta.toLowerCase()) || 
                    lowerCommand.includes(crop.en.toLowerCase())) {
                    foundCrop = crop;
                    break;
                }
            }
            
            if (foundCrop) {
                selectCrop(foundCrop.id);
                showVoiceFeedback(currentLanguage === 'ta' 
                    ? `${foundCrop.ta} родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯродрпБ` 
                    : `${foundCrop.en} selected`);
            }
            
            // Check for quantity
            const quantityMatch = command.match(/\d+/g);
            if (quantityMatch) {
                document.getElementById('quantity').value = quantityMatch[0];
                showVoiceFeedback(currentLanguage === 'ta' 
                    ? `роЕро│ро╡рпБ ${quantityMatch[0]} роХро┐ро▓рпЛ роЕроорпИроХрпНроХрокрпНрокроЯрпНроЯродрпБ` 
                    : `Quantity set to ${quantityMatch[0]} kg`);
            }
            
            // Check for calculate command
            if (lowerCommand.includes('роХрогроХрпНроХро┐роЯрпБ') || lowerCommand.includes('calculate') || 
                lowerCommand.includes('рокро░ро┐роирпНродрпБро░рпИ') || lowerCommand.includes('recommend')) {
                calculateRecommendations();
            }
            
            // Check for reset command
            if (lowerCommand.includes('роорпАроЯрпНроЯроорпИ') || lowerCommand.includes('reset')) {
                resetForm();
            }
        }

        // ============================================
        // 5. MARKET PRICE SIMULATION (LIVE DATA)
        // ============================================
        function updateMarketPrices() {
            if (!selectedCrop) return;
            
            // Simulate live market data
            const basePrice = selectedCrop.basePrice;
            const previousPrice = basePrice * (0.95 + Math.random() * 0.1);
            const currentPrice = basePrice * (0.95 + Math.random() * 0.1);
            const change = ((currentPrice - previousPrice) / previousPrice * 100).toFixed(2);
            
            document.getElementById('previousPrice').textContent = `тВ╣ ${previousPrice.toFixed(2)}`;
            document.getElementById('currentPrice').textContent = `тВ╣ ${currentPrice.toFixed(2)}`;
            document.getElementById('priceChange').textContent = `${change}%`;
            
            // Update market status
            const now = new Date();
            const timeStr = now.toLocaleTimeString(currentLanguage === 'ta' ? 'ta-IN' : 'en-IN');
            document.getElementById('marketStatusTA').textContent = `роХроЯрпИроЪро┐ рокрпБродрпБрокрпНрокро┐рокрпНрокрпБ: ${timeStr}`;
            document.getElementById('marketStatusEN').textContent = `Last Update: ${timeStr}`;
            
            // Color code the change
            const priceChangeElement = document.getElementById('priceChange');
            priceChangeElement.style.color = parseFloat(change) > 0 ? '#2e7d32' : 
                                           parseFloat(change) < 0 ? '#f44336' : '#666';
        }

        // Auto-update prices every 30 seconds
        setInterval(() => {
            if (selectedCrop) {
                updateMarketPrices();
            }
        }, 30000);

        // ============================================
        // 6. RECOMMENDATION CALCULATION
        // ============================================
        function calculateRecommendations() {
            if (!selectedCrop) {
                alert(currentLanguage === 'ta' 
                    ? 'родропро╡рпБроЪрпЖропрпНродрпБ роТро░рпБ рокропро┐ро░рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН' 
                    : 'Please select a crop');
                return;
            }
            
            const quantity = parseFloat(document.getElementById('quantity').value) || 100;
            const area = parseFloat(document.getElementById('area').value) || 1;
            
            // Get current prices
            const currentPrice = parseFloat(document.getElementById('currentPrice').textContent.replace('тВ╣', '').trim());
            const previousPrice = parseFloat(document.getElementById('previousPrice').textContent.replace('тВ╣', '').trim());
            
            // Calculate expected price (rule-based)
            const expectedPrice = currentPrice + (currentPrice - previousPrice) * 0.5;
            const priceChange = ((currentPrice - previousPrice) / previousPrice * 100);
            
            // Update expected price display
            document.getElementById('expectedPrice').textContent = `тВ╣ ${expectedPrice.toFixed(2)}`;
            
            // Determine recommendation
            let recommendationTextTA = '';
            let recommendationTextEN = '';
            let recommendationClass = '';
            let sellPercent = 0;
            let holdPercent = 0;
            
            if (expectedPrice > currentPrice * 1.02) {
                // Price expected to increase
                recommendationTextTA = 'ЁЯУИ роХро╛родрпНродро┐ро░рпБроирпНродрпБ ро╡ро┐ро▒рпНроХ рокро░ро┐роирпНродрпБро░рпИ';
                recommendationTextEN = 'ЁЯУИ Recommended to wait and sell';
                recommendationClass = 'recommend-wait';
                
                if (Math.abs(priceChange) < 5) {
                    sellPercent = 30;
                    holdPercent = 70;
                } else if (Math.abs(priceChange) < 15) {
                    sellPercent = 50;
                    holdPercent = 50;
                } else {
                    sellPercent = 70;
                    holdPercent = 30;
                }
            } else if (expectedPrice < currentPrice * 0.98) {
                // Price expected to decrease
                recommendationTextTA = 'ЁЯУЙ роЙроЯройроЯро┐ропро╛роХ ро╡ро┐ро▒рпНроХ рокро░ро┐роирпНродрпБро░рпИ';
                recommendationTextEN = 'ЁЯУЙ Recommended to sell immediately';
                recommendationClass = 'recommend-sell';
                sellPercent = 100;
                holdPercent = 0;
            } else {
                // Price stable
                recommendationTextTA = 'тЪЦя╕П роироЯрпБроиро┐ро▓рпИ - рокроХрпБродро┐ропро╛роХ ро╡ро┐ро▒рпНроХро▓ро╛роорпН';
                recommendationTextEN = 'тЪЦя╕П Neutral - Can sell partially';
                recommendationClass = 'recommend-neutral';
                sellPercent = 50;
                holdPercent = 50;
            }
            
            // Update recommendation display
            const recommendationBox = document.getElementById('recommendationBox');
            recommendationBox.className = `recommendation-box ${recommendationClass}`;
            recommendationBox.innerHTML = `
                <div class="tamil">${recommendationTextTA}</div>
                <div class="english">${recommendationTextEN}</div>
            `;
            
            // Update risk indicator
            const riskIndicator = document.getElementById('riskIndicator');
            let riskTextTA = '';
            let riskTextEN = '';
            let riskClass = '';
            
            if (Math.abs(priceChange) < 5) {
                riskTextTA = 'роХрпБро▒рпИроирпНрод роЗроЯро░рпН';
                riskTextEN = 'Low Risk';
                riskClass = 'risk-low';
            } else if (Math.abs(priceChange) < 15) {
                riskTextTA = 'роироЯрпБродрпНродро░ роЗроЯро░рпН';
                riskTextEN = 'Medium Risk';
                riskClass = 'risk-medium';
            } else {
                riskTextTA = 'роЕродро┐роХ роЗроЯро░рпН';
                riskTextEN = 'High Risk';
                riskClass = 'risk-high';
            }
            
            riskIndicator.className = `risk-indicator ${riskClass}`;
            riskIndicator.innerHTML = `
                <i class="fas fa-shield-alt"></i>
                <span class="tamil">${riskTextTA}</span>
                <span class="english">${riskTextEN}</span>
            `;
            
            // Update quantity strategy
            document.getElementById('sellPercent').textContent = `${sellPercent}%`;
            document.getElementById('holdPercent').textContent = `${holdPercent}%`;
            
            const sellQuantity = (quantity * sellPercent / 100).toFixed(0);
            const holdQuantity = (quantity * holdPercent / 100).toFixed(0);
            
            document.getElementById('sellQuantityTA').textContent = `${sellQuantity} роХро┐ро▓рпЛ`;
            document.getElementById('sellQuantityEN').textContent = `${sellQuantity} kg`;
            document.getElementById('holdQuantityTA').textContent = `${holdQuantity} роХро┐ро▓рпЛ`;
            document.getElementById('holdQuantityEN').textContent = `${holdQuantity} kg`;
            
            // Update strategy explanation
            let explanationTA = '';
            let explanationEN = '';
            
            if (sellPercent === 100) {
                explanationTA = `ро╡ро┐ро▓рпИ роХрпБро▒рпИропрпБроорпН роЪро╛родрпНродро┐ропроорпН роЙро│рпНро│родро╛ро▓рпН, роЙроЩрпНроХро│рпН роорпБро┤рпБ ${quantity} роХро┐ро▓рпЛ ${selectedCrop.ta}ро╡рпИропрпБроорпН роЙроЯройроЯро┐ропро╛роХ ро╡ро┐ро▒рпНроХ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ.`;
                explanationEN = `Due to potential price decrease, it is recommended to sell all ${quantity} kg of ${selectedCrop.en} immediately.`;
            } else if (holdPercent === 70) {
                explanationTA = `ро╡ро┐ро▓рпИ роЕродро┐роХро░ро┐роХрпНроХрпБроорпН роЪро╛родрпНродро┐ропроорпН роЙро│рпНро│родро╛ро▓рпН, ${sellPercent}% (${sellQuantity} роХро┐ро▓рпЛ) роороЯрпНроЯрпБроорпЗ роЗрокрпНрокрпЛродрпБ ро╡ро┐ро▒рпНроХро╡рпБроорпН, ${holdPercent}% (${holdQuantity} роХро┐ро▓рпЛ) рокро┐ройрпН ро╡ро┐ро▒рпНроХ ро╡рпИроХрпНроХро╡рпБроорпН.`;
                explanationEN = `Due to potential price increase, sell only ${sellPercent}% (${sellQuantity} kg) now and hold ${holdPercent}% (${holdQuantity} kg) for later sale.`;
            } else {
                explanationTA = `роЪроирпНродрпИ роиро┐ро▓рпИродрпНродройрпНроорпИ роЙро│рпНро│родро╛ро▓рпН, ${sellPercent}% (${sellQuantity} роХро┐ро▓рпЛ) ро╡ро┐ро▒рпНроХро╡рпБроорпН, ${holdPercent}% (${holdQuantity} роХро┐ро▓рпЛ) рокро┐ройрпН ро╡ро┐ро▒рпНроХ ро╡рпИроХрпНроХро╡рпБроорпН.`;
                explanationEN = `Due to market stability, sell ${sellPercent}% (${sellQuantity} kg) and hold ${holdPercent}% (${holdQuantity} kg) for later sale.`;
            }
            
            document.getElementById('strategyExplanationTA').textContent = explanationTA;
            document.getElementById('strategyExplanationEN').textContent = explanationEN;
            
            // Show results container
            document.getElementById('resultsContainer').style.display = 'block';
            
            // Scroll to results
            document.getElementById('resultsContainer').scrollIntoView({ behavior: 'smooth' });
        }

        // ============================================
        // 7. SMS SUBSCRIPTION (DEMO ONLY)
        // ============================================
        function subscribeSMS() {
            const phone = document.getElementById('phoneNumber').value;
            
            if (!phone || phone.length < 10) {
                alert(currentLanguage === 'ta' 
                    ? 'роЪро░ро┐ропро╛рой роХрпИрокрпЗроЪро┐ роОрогрпНрогрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН' 
                    : 'Please enter a valid phone number');
                return;
            }
            
            if (!selectedCrop) {
                alert(currentLanguage === 'ta' 
                    ? 'роорпБродро▓ро┐ро▓рпН роТро░рпБ рокропро┐ро░рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН' 
                    : 'Please select a crop first');
                return;
            }
            
            // Demo message - in real implementation, this would call backend
            alert(currentLanguage === 'ta' 
                ? `тЬЕ ${phone} роОрогрпНрогрпБроХрпНроХрпБ ${selectedCrop.ta} ро╡ро┐ро▓рпИ роЕро▒ро┐ро╡ро┐рокрпНрокрпБроХро│рпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯрой!\n\n(роЯрпЖроорпЛ роороЯрпНроЯрпБроорпЗ - роЙрогрпНроорпИропро╛рой SMS роЕройрпБрокрпНрок рокро┐ройрпНрокрпБро▒роорпН родрпЗро╡рпИ)` 
                : `тЬЕ Price alerts for ${selectedCrop.en} activated for ${phone}!\n\n(Demo only - Backend needed for real SMS)`);
            
            // Clear phone field
            document.getElementById('phoneNumber').value = '';
        }

        // ============================================
        // 8. FORM RESET
        // ============================================
        function resetForm() {
            selectedCrop = null;
            document.getElementById('cropSearch').value = '';
            document.getElementById('selectedCropInfo').style.display = 'none';
            document.getElementById('quantity').value = '100';
            document.getElementById('area').value = '1';
            document.getElementById('phoneNumber').value = '';
            document.getElementById('searchResults').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'none';
            
            // Reset prices
            document.getElementById('previousPrice').textContent = 'тВ╣ 0.00';
            document.getElementById('currentPrice').textContent = 'тВ╣ 0.00';
            document.getElementById('priceChange').textContent = '0.00%';
            
            showVoiceFeedback(currentLanguage === 'ta' 
                ? 'рокроЯро┐ро╡роорпН роорпАроЯрпНроЯроорпИроХрпНроХрокрпНрокроЯрпНроЯродрпБ' 
                : 'Form reset');
        }

        // ============================================
        // 9. INITIALIZATION
        // ============================================
        window.onload = function() {
            // Set default language
            setLanguage('ta');
            
            // Display crop database info
            document.getElementById('totalCrops').textContent = ALL_CROPS.length + '+';
            document.getElementById('activeCrops').textContent = ALL_CROPS.length;
            document.getElementById('tamilCrops').textContent = ALL_CROPS.length;
            document.getElementById('lastUpdated').textContent = new Date().toLocaleDateString();
            
            // Show welcome message
            showVoiceFeedback(currentLanguage === 'ta' 
                ? 'ро╡ро┐ро╡роЪро╛ропро┐ роЙродро╡ро┐ роЕроорпИрокрпНрокрпБроХрпНроХрпБ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН! роТро░рпБ рокропро┐ро░рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН.' 
                : 'Welcome to Farmer Support System! Please select a crop.');
            
            // Check for voice support
            if (!('webkitSpeechRecognition' in window)) {
                document.getElementById('voiceBtn').style.opacity = '0.5';
                document.getElementById('voiceBtn').title = currentLanguage === 'ta' 
                    ? 'роХрпБро░ро▓рпН роЖродро░ро╡рпБ роЗро▓рпНро▓рпИ' 
                    : 'Voice not supported';
            }
            
            // Auto-select a sample crop for demo
            setTimeout(() => {
                selectCrop('rice');
                calculateRecommendations();
            }, 1000);
        };

        // ============================================
        // 10. KEYBOARD SHORTCUTS
        // ============================================
        document.addEventListener('keydown', function(event) {
            // Ctrl + Space for voice control
            if (event.ctrlKey && event.code === 'Space') {
                event.preventDefault();
                toggleVoiceControl();
            }
            
            // Enter to calculate
            if (event.code === 'Enter' && document.activeElement.id !== 'phoneNumber') {
                calculateRecommendations();
            }
            
            // Escape to reset
            if (event.code === 'Escape') {
                resetForm();
            }
        });

        // ============================================
        // 11. OFFLINE SUPPORT
        // ============================================
        // Save data to localStorage
        function saveToLocalStorage() {
            const data = {
                selectedCrop: selectedCrop ? selectedCrop.id : null,
                quantity: document.getElementById('quantity').value,
                area: document.getElementById('area').value,
                language: currentLanguage,
                lastUpdated: new Date().toISOString()
            };
            localStorage.setItem('farmerAppData', JSON.stringify(data));
        }

        // Load data from localStorage
        function loadFromLocalStorage() {
            const savedData = localStorage.getItem('farmerAppData');
            if (savedData) {
                const data = JSON.parse(savedData);
                
                // Restore language
                if (data.language) {
                    setLanguage(data.language);
                }
                
                // Restore crop selection
                if (data.selectedCrop) {
                    selectCrop(data.selectedCrop);
                }
                
                // Restore form values
                if (data.quantity) {
                    document.getElementById('quantity').value = data.quantity;
                }
                if (data.area) {
                    document.getElementById('area').value = data.area;
                }
            }
        }

        // Auto-save when values change
        document.getElementById('quantity').addEventListener('change', saveToLocalStorage);
        document.getElementById('area').addEventListener('change', saveToLocalStorage);

        // Load saved data on page load
        window.addEventListener('load', loadFromLocalStorage);

        // ============================================
        // 12. EXPORT DATA FUNCTIONALITY
        // ============================================
        function exportData() {
            if (!selectedCrop) {
                alert(currentLanguage === 'ta' 
                    ? 'роПродрпБрооро┐ро▓рпНро▓рпИ роПро▒рпНро▒рпБроородро┐ роЪрпЖропрпНроп' 
                    : 'Nothing to export');
                return;
            }
            
            const data = {
                crop: selectedCrop,
                quantity: document.getElementById('quantity').value,
                area: document.getElementById('area').value,
                currentPrice: document.getElementById('currentPrice').textContent,
                expectedPrice: document.getElementById('expectedPrice').textContent,
                recommendation: document.getElementById('recommendationBox').textContent,
                timestamp: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `farmer-report-${selectedCrop.id}-${new Date().getTime()}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert(currentLanguage === 'ta' 
                ? 'родро░ро╡рпБ ро╡рпЖро▒рпНро▒ро┐роХро░рооро╛роХ роПро▒рпНро▒рпБроородро┐ роЪрпЖропрпНропрокрпНрокроЯрпНроЯродрпБ' 
                : 'Data exported successfully');
        }

        // Add export button event listener
        document.addEventListener('DOMContentLoaded', function() {
            const exportBtn = document.createElement('button');
            exportBtn.className = 'btn btn-secondary';
            exportBtn.innerHTML = '<i class="fas fa-download"></i> <span class="tamil">роПро▒рпНро▒рпБроородро┐</span><span class="english">Export</span>';
            exportBtn.onclick = exportData;
            document.querySelector('.action-buttons').appendChild(exportBtn);
        });
    </script>
</body>
</html>